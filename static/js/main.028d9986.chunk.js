(this["webpackJsonpmapbox-test"]=this["webpackJsonpmapbox-test"]||[]).push([[0],{104:function(t,e,n){},105:function(t,e,n){},167:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),i=n(49),o=n.n(i),a=(n(104),n(105),n(37)),u=n(7),s=n(29),l=n(18),d=function(t){t.feature;switch(t.state){case l.RENDER_STATE.SELECTED:case l.RENDER_STATE.HOVERED:case l.RENDER_STATE.UNCOMMITTED:return{fill:"rgb(251, 176, 59)",fillOpacity:1,stroke:"rgb(255, 255, 255)",strokeWidth:2,r:7};default:return{fill:"rgb(251, 176, 59)",fillOpacity:1,stroke:"rgb(255, 255, 255)",strokeWidth:2,r:5}}},f=function(t){t.feature,t.index;switch(t.state){case l.RENDER_STATE.SELECTED:case l.RENDER_STATE.HOVERED:case l.RENDER_STATE.UNCOMMITTED:case l.RENDER_STATE.CLOSING:return{stroke:"rgb(251, 176, 59)",strokeWidth:2,fill:"rgb(251, 176, 59)",fillOpacity:.3,strokeDasharray:"4,2"};default:return{stroke:"rgb(60, 178, 208)",strokeWidth:2,fill:"rgb(60, 178, 208)",fillOpacity:.1}}},b=n(6),p={position:"fixed",top:"20px",right:"20px",display:"flex",flexDirection:"column",gap:"10px"},h=function(){var t=Object(r.useState)(null),e=Object(u.a)(t,2),n=e[0],c=e[1],i=Object(r.useState)(null),o=Object(u.a)(i,2),a=o[0],s=o[1],h=Object(r.useRef)(null),j=Object(r.useCallback)((function(t){s(t&&t.selectedFeatureIndex)}),[]),O=Object(r.useCallback)((function(t){"addFeature"===t.editType&&c(new l.EditingMode)}),[]),S=Object(r.useCallback)((function(){null!==a&&a>=0&&h.current&&h.current.deleteFeatures(a)}),[a]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.Editor,{ref:h,style:{width:"100%",height:"100%"},clickRadius:12,mode:n,onSelect:j,onUpdate:O,editHandleShape:"circle",featureStyle:f,editHandleStyle:d,featuresDraggable:!0}),Object(b.jsxs)("div",{style:p,children:[Object(b.jsx)("button",{onClick:function(){return c(new l.DrawPolygonMode)},children:"New poly"}),Object(b.jsx)("button",{onClick:S,children:"Delete"})]})]})},j=n(35),O=n(25),S=function(){var t=Object(j.c)(O.getUserPathSourceSelector);return Object(b.jsx)(s.Source,{id:"my-data",type:"geojson",data:t,children:Object(b.jsx)(s.Layer,{id:"user-path-layer",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f0f","line-width":8}})})},g=n(36),v=n.n(g),E=n(53),y=function(){var t=Object(E.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){e(t)},t.next=3,navigator.geolocation.watchPosition(n,(function(t){return console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(j.b)(),e=Object(r.useState)(null),n=Object(u.a)(e,2),c=n[0],i=n[1];Object(r.useEffect)((function(){(function(){var t=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(i);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[i]),Object(r.useEffect)((function(){c&&t(Object(O.pushPositionAction)(c))}),[c,t])},R=function(){var t=Object(r.useState)({longitude:-91.874,latitude:42.76,zoom:12}),e=Object(u.a)(t,2),n=e[0],c=e[1];return x(),Object(b.jsx)("div",{style:{width:"100vw",height:"100vh"},children:Object(b.jsxs)(s.default,Object(a.a)(Object(a.a)({},n),{},{onClick:function(t){return console.log(t)},width:"100%",height:"100%",mapStyle:"mapbox://styles/kark-leo/ckrq5pa1k7b9j17qr2tvv7ixy",onViewportChange:c,mapboxApiAccessToken:"pk.eyJ1Ijoia2Fyay1sZW8iLCJhIjoiY2tycTVqeDF5MDRmaDJucHF6bjl0aWRlMSJ9.fVvoRu7-JIUyyIkbFQ9vQA",children:[Object(b.jsx)(s.NavigationControl,{}),Object(b.jsx)(h,{}),Object(b.jsx)(S,{})]}))})};var T=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(R,{})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),i(t),o(t)}))},P=(n(165),n(54));o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(j.a,{store:P.appStore,children:Object(b.jsx)(T,{})})}),document.getElementById("root")),k()},25:function(t,e,n){"use strict";var r=n(88);n.o(r,"getUserPathSourceSelector")&&n.d(e,"getUserPathSourceSelector",(function(){return r.getUserPathSourceSelector})),n.o(r,"initialState")&&n.d(e,"initialState",(function(){return r.initialState})),n.o(r,"pushPositionAction")&&n.d(e,"pushPositionAction",(function(){return r.pushPositionAction})),n.o(r,"userPathReducer")&&n.d(e,"userPathReducer",(function(){return r.userPathReducer}));var c=n(89);n.d(e,"initialState",(function(){return c.a}));var i=n(50);n.d(e,"userPathReducer",(function(){return i.b}));var o=n(90);n.d(e,"pushPositionAction",(function(){return o.a}));var a=n(91);n.d(e,"getUserPathSourceSelector",(function(){return a.a}))},50:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n(30),c=n(37),i=n(25),o="USER_PATH/PUSH__POSITION",a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.initialState,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(c.a)(Object(c.a)({},t),{},{path:[].concat(Object(r.a)(t.path),[e.position])});default:return t}}},54:function(t,e,n){"use strict";var r=n(92);n.d(e,"appReducer",(function(){return r.a}));var c=n(93);n.d(e,"appStore",(function(){return c.a}));n(94)},88:function(t,e){},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={path:[]}},90:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(50),c=function(t){return{type:r.a,position:t}}},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(98),c=Object(r.a)((function(t){return t.userPath.path}),(function(t){return{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.map((function(t){return[t.coords.longitude,t.coords.latitude]}))}}}))},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(39),c=n(25),i=Object(r.combineReducers)({userPath:c.userPathReducer})},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(39),c=n(99),i=n(54),o=Object(r.createStore)(i.appReducer,Object(c.composeWithDevTools)())},94:function(t,e){}},[[167,1,2]]]);
//# sourceMappingURL=main.028d9986.chunk.js.map